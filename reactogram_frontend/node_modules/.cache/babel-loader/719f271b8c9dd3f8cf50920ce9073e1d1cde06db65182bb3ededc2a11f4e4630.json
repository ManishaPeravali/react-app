{"ast":null,"code":"import Login from\"./pages/login.js\";import Signup from\"./pages/signup.js\";import Contactus from\"./pages/contactus.js\";import PostOverview from\"./pages/postoverview\";import{BrowserRouter as Router,Routes,Route}from\"react-router-dom\";import NavBar from\"./components/navbar.js\";import Profile from\"./pages/profile\";import{NavLink,useNavigate}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import{useEffect}from\"react\";import{Nav}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){//Below DynamicRouting() component is created ,so that when we refresh the page ,the user data do not get lost .......\n//Also we used  DynamicRouting() component ,since App.js is first executed ,so we created a dynamic component to use 'useNavigate' function(as use Navigate function cannot be used in App.js ),\nfunction DynamicRouting(){var dispatch=useDispatch();var navigate=useNavigate();useEffect(function(){var userData=JSON.parse(localStorage.getItem(\"user\"));if(userData){dispatch({type:\"LOGIN_SUCCESS\",payload:userData});navigate(\"/posts\");}else{localStorage.removeItem(\"token\");localStorage.removeItem(\"user\");dispatch({type:\"LOGOUT\"});dispatch({type:\"LOGIN_ERROR\"});navigate(\"/login\");}},[]);return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(PostOverview,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/signup\",element:/*#__PURE__*/_jsx(Signup,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/posts\",element:/*#__PURE__*/_jsx(PostOverview,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/contactus\",element:/*#__PURE__*/_jsx(Contactus,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/profile\",element:/*#__PURE__*/_jsx(Profile,{})})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(DynamicRouting,{})]})});}export default App;","map":{"version":3,"names":["Login","Signup","Contactus","PostOverview","BrowserRouter","Router","Routes","Route","NavBar","Profile","NavLink","useNavigate","useSelector","useDispatch","useEffect","Nav","App","DynamicRouting","dispatch","navigate","userData","JSON","parse","localStorage","getItem","type","payload","removeItem"],"sources":["C:/Users/Samuel/Desktop/react-app/tReactogram---insta/reactogram_frontend/src/App.js"],"sourcesContent":["import Login from \"./pages/login.js\";\r\nimport Signup from \"./pages/signup.js\";\r\nimport Contactus from \"./pages/contactus.js\";\r\nimport PostOverview from \"./pages/postoverview\";\r\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\r\nimport NavBar from \"./components/navbar.js\";\r\nimport Profile from \"./pages/profile\";\r\nimport { NavLink, useNavigate } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport { Nav } from \"react-bootstrap\";\r\nfunction App() {\r\n  //Below DynamicRouting() component is created ,so that when we refresh the page ,the user data do not get lost .......\r\n  //Also we used  DynamicRouting() component ,since App.js is first executed ,so we created a dynamic component to use 'useNavigate' function(as use Navigate function cannot be used in App.js ),\r\n  function DynamicRouting() {\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n    useEffect(() => {\r\n      const userData = JSON.parse(localStorage.getItem(\"user\"));\r\n      if (userData) {\r\n        dispatch({ type: \"LOGIN_SUCCESS\", payload: userData });\r\n        navigate(\"/posts\");\r\n      } else {\r\n        localStorage.removeItem(\"token\");\r\n        localStorage.removeItem(\"user\");\r\n        dispatch({ type: \"LOGOUT\" });\r\n        dispatch({ type: \"LOGIN_ERROR\" });\r\n        navigate(\"/login\");\r\n      }\r\n    }, []);\r\n    return (\r\n      <Routes>\r\n        <Route exact path=\"/\" element={<PostOverview />}></Route>\r\n        <Route exact path=\"/login\" element={<Login />}></Route>\r\n        <Route exact path=\"/signup\" element={<Signup />}></Route>\r\n        <Route exact path=\"/posts\" element={<PostOverview />}></Route>\r\n        <Route exact path=\"/contactus\" element={<Contactus />}></Route>\r\n        <Route exact path=\"/profile\" element={<Profile />}></Route>\r\n      </Routes>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <NavBar />\r\n        <DynamicRouting />\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"AAAA,MAAOA,MAAK,KAAM,kBAAkB,CACpC,MAAOC,OAAM,KAAM,mBAAmB,CACtC,MAAOC,UAAS,KAAM,sBAAsB,CAC5C,MAAOC,aAAY,KAAM,sBAAsB,CAC/C,OAASC,aAAa,GAAIC,OAAM,CAAEC,MAAM,CAAEC,KAAK,KAAQ,kBAAkB,CACzE,MAAOC,OAAM,KAAM,wBAAwB,CAC3C,MAAOC,QAAO,KAAM,iBAAiB,CACrC,OAASC,OAAO,CAAEC,WAAW,KAAQ,kBAAkB,CACvD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,GAAG,KAAQ,iBAAiB,CAAC,wFACtC,QAASC,IAAG,EAAG,CACb;AACA;AACA,QAASC,eAAc,EAAG,CACxB,GAAMC,SAAQ,CAAGL,WAAW,EAAE,CAC9B,GAAMM,SAAQ,CAAGR,WAAW,EAAE,CAC9BG,SAAS,CAAC,UAAM,CACd,GAAMM,SAAQ,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CACzD,GAAIJ,QAAQ,CAAE,CACZF,QAAQ,CAAC,CAAEO,IAAI,CAAE,eAAe,CAAEC,OAAO,CAAEN,QAAS,CAAC,CAAC,CACtDD,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,IAAM,CACLI,YAAY,CAACI,UAAU,CAAC,OAAO,CAAC,CAChCJ,YAAY,CAACI,UAAU,CAAC,MAAM,CAAC,CAC/BT,QAAQ,CAAC,CAAEO,IAAI,CAAE,QAAS,CAAC,CAAC,CAC5BP,QAAQ,CAAC,CAAEO,IAAI,CAAE,aAAc,CAAC,CAAC,CACjCN,QAAQ,CAAC,QAAQ,CAAC,CACpB,CACF,CAAC,CAAE,EAAE,CAAC,CACN,mBACE,MAAC,MAAM,yBACL,KAAC,KAAK,EAAC,KAAK,MAAC,IAAI,CAAC,GAAG,CAAC,OAAO,cAAE,KAAC,YAAY,IAAI,EAAS,cACzD,KAAC,KAAK,EAAC,KAAK,MAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,cAAE,KAAC,KAAK,IAAI,EAAS,cACvD,KAAC,KAAK,EAAC,KAAK,MAAC,IAAI,CAAC,SAAS,CAAC,OAAO,cAAE,KAAC,MAAM,IAAI,EAAS,cACzD,KAAC,KAAK,EAAC,KAAK,MAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,cAAE,KAAC,YAAY,IAAI,EAAS,cAC9D,KAAC,KAAK,EAAC,KAAK,MAAC,IAAI,CAAC,YAAY,CAAC,OAAO,cAAE,KAAC,SAAS,IAAI,EAAS,cAC/D,KAAC,KAAK,EAAC,KAAK,MAAC,IAAI,CAAC,UAAU,CAAC,OAAO,cAAE,KAAC,OAAO,IAAI,EAAS,GACpD,CAEb,CACA,mBACE,YAAK,SAAS,CAAC,KAAK,uBAClB,MAAC,MAAM,yBACL,KAAC,MAAM,IAAG,cACV,KAAC,cAAc,IAAG,GACX,EACL,CAEV,CAEA,cAAeH,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}